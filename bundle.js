(()=>{var t={740:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}var s=r(674),l=new s("Aircraft Carrier",5),d=new s("Battleship",4),u=new s("Destroyer",3),f=new s("Submarine",3),p=new s("Cruiser",2),h=new s("Aircraft Carrier",5),m=new s("Battleship",4),v=new s("Destroyer",3),y=new s("Submarine",3),b=new s("Cruiser",2),g=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=[];for(var e=0;e<10;e++)this.board.push(new Array(10).fill(null));this.occupiedCoordinates=[],this.desiredCoordinates=[],this.firedUpon=[],this.hits=[],this.misses=[],this.playerACLocation=[],this.playerBLocation=[],this.playerDLocation=[],this.playerSUBLocation=[],this.playerCLocation=[],this.playerShipsObject={pAC:l,pB:d,pD:u,pSUB:f,pC:p},this.compShipsObject={cAC:h,cB:m,cD:v,cSUB:y,cC:b}},(e=[{key:"avoidOverBoard",value:function(t,e,r,n){return!(t<0||e<0||t>9||e>9||"horizontal"===r&&e+n.length>10||"vertical"===r&&t+n.length>10)}},{key:"setDesiredCoordinates",value:function(t,e,r,n){if("horizontal"===n)for(var o=0;o<r.length;o++)this.desiredCoordinates.push([t,e+o]);else if("vertical"===n)for(var i=0;i<r.length;i++)this.desiredCoordinates.push([t+i,e]);return this.desiredCoordinates}},{key:"occupiedSpotCheck",value:function(){for(var t=0;t<this.occupiedCoordinates.length;t++)for(var e=o(this.occupiedCoordinates[t],2),r=e[0],n=e[1],i=0;i<this.desiredCoordinates.length;i++){var a=o(this.desiredCoordinates[i],2),c=a[0],s=a[1];if(r===c&&n===s)return this.desiredCoordinates=[],!0}return!1}},{key:"placeShip",value:function(t,e,r,n){var i=o(e,2),a=i[0],c=i[1];if(!this.avoidOverBoard(a,c,r,t))return"Invalid position";if(this.setDesiredCoordinates(a,c,t,r),this.occupiedSpotCheck())return"That spot is taken";for(var s=0;s<this.desiredCoordinates.length;s++){var l=o(this.desiredCoordinates[s],2),d=l[0],u=l[1];this.board[d][u]=n,this.occupiedCoordinates.push([d,u]),"pAC"===n&&this.playerACLocation.push([d,u]),"pB"===n&&this.playerBLocation.push([d,u]),"pD"===n&&this.playerDLocation.push([d,u]),"pSUB"===n&&this.playerSUBLocation.push([d,u]),"pC"===n&&this.playerCLocation.push([d,u])}this.desiredCoordinates=[]}},{key:"placeRandomShip",value:function(t,e){for(var r=!1;!r;){var n=Math.floor(10*Math.random()),o=Math.floor(10*Math.random()),i=this.getRandomShipOrientation();this.avoidOverBoard(n,o,i,t)&&(this.setDesiredCoordinates(n,o,t,i),this.occupiedSpotCheck()||(this.placeShip(t,[n,o],i,e),r=!0))}}},{key:"getRandomShipOrientation",value:function(){return 0==Math.floor(10*Math.random())%2?"horizontal":"vertical"}},{key:"firedCheck",value:function(t,e){for(var r=0;r<this.firedUpon.length;r++){var n=o(this.firedUpon[r],2),i=n[0],a=n[1];if(t===i&&e===a)return!0}return!1}},{key:"receiveAttack",value:function(t){var e=o(t,2),r=e[0],n=e[1],i=this.board[r][n];return this.firedCheck(r,n)?"You already shot there":(this.firedUpon.push([r,n]),null===i?(this.misses.push([r,n]),this.board[r][n]="o","Miss"):(this.hits.push([r,n]),this.playerShipsObject[i]?this.playerShipsObject[i].getHit():this.compShipsObject[i]&&this.compShipsObject[i].getHit(),this.board[r][n]="x","Hit!"))}},{key:"allPlayerShipsSunk",value:function(){return Object.values(this.playerShipsObject).every((function(t){return t&&t.isSunk}))}},{key:"allCompShipsSunk",value:function(){return Object.values(this.compShipsObject).every((function(t){return t&&t.isSunk}))}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();t.exports=g},317:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}var c=r(740),s=i((function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.type=r,this.gameboard=new c}));t.exports=s},674:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:r+""}var o=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.length=r,this.hitPoints=0,this.isSunk=!1},(e=[{key:"getHit",value:function(){this.hitPoints!==this.length&&this.hitPoints++,this.hitPoints===this.length&&(this.isSunk=!0)}},{key:"checkIfSunk",value:function(){return this.isSunk}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();t.exports=o}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};(()=>{"use strict";function t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,r)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}r.d(n,{I:()=>F});var o=new Audio("sounds/bigSplash.7105be403036a351f8fe637ac2353abc.mp3"),i=new Audio("sounds/hitEcho.c2e31f3126531db5ef1db5456542589c.mp3"),a=[],c=[];function s(t){l(document.getElementById("".concat(t,"-board")))}function l(t){for(var e=0;e<10;e++){var r=document.createElement("div");r.classList.add("row");for(var n=0;n<10;n++){var o=document.createElement("div");o.classList.add("cell"),o.dataset.x=e,o.dataset.y=n,r.appendChild(o)}t.appendChild(r)}}function d(e,r,n){var o=t(F(e),2),i=o[0],a=o[1],s=r.length;i=Number(i),a=Number(a);var l=!1;if(("vertical"===n&&i+s>10||"horizontal"===n&&a+s>10)&&(l=!0),"vertical"===n)for(var d=0;d<s;d++){var f=document.querySelector('#board .cell[data-x="'.concat(i+d,'"][data-y="').concat(a,'"]'));f&&!l&&(f.classList.add("hoverHighlight"),f.classList.remove("overboard"),c.push([i+d,a]),u()&&(f.classList.remove("hoverHighlight"),f.classList.add("overboard"),l=!0)),f&&l&&(f.classList.remove("hoverHighlight"),f.classList.add("overboard"))}else if("horizontal"===n)for(var p=0;p<s;p++){var h=document.querySelector('#board .cell[data-x="'.concat(i,'"][data-y="').concat(a+p,'"]'));h&&!l&&(h.classList.add("hoverHighlight"),h.classList.remove("overboard"),c.push([i,a+p]),u()&&(h.classList.remove("hoverHighlight"),h.classList.add("overboard"),l=!0)),h&&l&&(h.classList.remove("hoverHighlight"),h.classList.add("overboard"))}return l}function u(){var t=c.map((function(t){return t.join("")})),e=a.map((function(t){return t.join("")}));return t.some((function(t){return e.includes(t)}))}function f(t,e){t.classList.add("forbiddenButton"),e.classList.add("forbiddenButton")}function p(t){t.classList.remove("forbiddenButton"),document.getElementById("buttonDiv").querySelectorAll("button").forEach((function(t){t.classList.remove("selectedButton")}))}function h(e,r,n,a){var c=r.gameboard.receiveAttack(n);return function(t){"Miss"===t?o.play():i.play()}(c),setTimeout((function(){!function(e,r,n){var o=t(n,2),i=o[0],a=o[1],c=document.querySelector(".".concat(e,'-board [data-x="').concat(i,'"][data-y="').concat(a,'"]'));c.classList.add("forbiddenButton");var s=document.createElement("div");s.id="marker","Miss"===r?(c.appendChild(s),s.classList.add("markerMiss")):"Hit!"===r?(c.appendChild(s),s.classList.add("markerHit")):console.error(new Error("Something wrong happened"))}(r.type,c,n)}),500),a=!1,(r.gameboard.allPlayerShipsSunk()||r.gameboard.allCompShipsSunk())&&(function(t){var e=document.getElementById("app"),r=document.createElement("div");r.classList.add("overlay"),e.appendChild(r);var n=document.createElement("h1"),o=document.createElement("h2");"player"===t.type?(n.textContent="Congratulations!",o.textContent="You Win"):(n.textContent="Game Over!",o.textContent="You Lose"),r.appendChild(n),r.appendChild(o);var i=document.createElement("button");i.textContent="Play Again?",r.appendChild(i),i.addEventListener("click",(function(){window.location.reload()}))}(e),a=!0),a}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var v=r(674),y=(r(740),r(317)),b={1:new Audio("sounds/brrrt.163eb3637bc05c541d859caac432b3df.mp3"),2:new Audio("sounds/fireEcho.6ef049eaf206d1679f55d6afd5311993.mp3"),3:new Audio("sounds/missile.021130b51f2dd6681db6611ca20ac50d.mp3"),4:new Audio("sounds/mortar.9d5f078f985bc3ceb5663cb8370662dc.mp3"),5:new Audio("sounds/phalanx.18a4f5f75a1d3ce3ad51550cbcd76bde.mp3")},g=new v("Aircraft Carrier",5),C=new v("Battleship",4),S=new v("Destroyer",3),L=new v("Submarine",3),E=new v("Cruiser",2),w=new v("Aircraft Carrier",5),B=new v("Battleship",4),k=new v("Destroyer",3),A=new v("Submarine",3),j=new v("Cruiser",2),x=new y("Player","player"),O=new y("Computer","computer");O.gameboard.placeRandomShip(w,"cAC"),O.gameboard.placeRandomShip(B,"cB"),O.gameboard.placeRandomShip(k,"cD"),O.gameboard.placeRandomShip(A,"cSUB"),O.gameboard.placeRandomShip(j,"cC"),function(){var t=document.getElementById("app"),e=document.createElement("div");e.classList.add("overlay"),e.id="overlay",t.appendChild(e);var r=document.createElement("h1");r.textContent="Place your formation, Captain",e.appendChild(r);var n=document.createElement("div");n.classList.add("uiBody"),e.appendChild(n);var o=document.createElement("div");o.classList.add("orientationDiv"),o.id="orientationDiv",n.appendChild(o);var i=document.createElement("button");i.id="horizontal",i.textContent="Horizontal";var a=document.createElement("button");a.id="vertical",a.textContent="Vertical",o.appendChild(i),o.appendChild(a);var c=document.createElement("div");l(c),c.id="board",n.appendChild(c);var s=document.createElement("div");s.classList.add("buttonDiv"),s.id="buttonDiv",n.appendChild(s);var d=document.createElement("button");d.textContent="Carrier";var u=document.createElement("button");u.textContent="Battleship";var f=document.createElement("button");f.textContent="Destroyer";var p=document.createElement("button");p.textContent="Submarine";var h=document.createElement("button");h.textContent="Cruiser",s.appendChild(d),d.id="carrier",s.appendChild(u),u.id="battleship",s.appendChild(f),f.id="destroyer",s.appendChild(p),p.id="submarine",s.appendChild(h),h.id="cruiser";var m=document.createElement("div");m.classList.add("confirmationDiv"),m.id="confirmationDiv",e.appendChild(m);var v=document.createElement("button");v.textContent="Reset",v.id="reset";var y=document.createElement("button");y.textContent="Confirm",y.id="confirm",m.appendChild(v),m.appendChild(y)}(),s("player"),s("computer");var I,D,P=document.getElementById("board"),M=document.getElementById("buttonDiv"),H=document.querySelectorAll("#board .cell"),U=[],T=document.getElementById("carrier"),z=document.getElementById("battleship"),q=document.getElementById("destroyer"),N=document.getElementById("submarine"),R=document.getElementById("cruiser"),Y={"Aircraft Carrier":[g,"pAC"],Battleship:[C,"pB"],Destroyer:[S,"pD"],Submarine:[L,"pSUB"],Cruiser:[E,"pC"]};P.addEventListener("mouseover",(function(t){d(t,D,I)})),P.addEventListener("mouseout",(function(t){H.forEach((function(t){t.classList.remove("hoverHighlight"),t.classList.remove("overboard")})),c=[]})),P.addEventListener("mouseup",(function(e){var r,n=F(e);d(e,D,I)||(U.push([n,I,D]),r=P,U.forEach((function(t){var e=t[2];e===g&&f(T,r),e===C&&f(z,r),e===S&&f(q,r),e===L&&f(N,r),e===E&&f(R,r)})),function(e,r,n){var o=t(e,2),i=o[0],c=o[1],s=r.length;if(i=Number(i),c=Number(c),"vertical"===n)for(var l=0;l<s;l++){var d=document.querySelector('#board .cell[data-x="'.concat(i+l,'"][data-y="').concat(c,'"]'));d&&(a.push([i+l,c]),d.classList.add("selectedHighlight"))}else if("horizontal"===n)for(var u=0;u<s;u++){var f=document.querySelector('#board .cell[data-x="'.concat(i,'"][data-y="').concat(c+u,'"]'));f&&(a.push([i,c+u]),f.classList.add("selectedHighlight"))}}(n,D,I),5===U.length&&$.classList.remove("forbiddenButton"))})),M.addEventListener("click",(function(t){switch(!0){case t.target===T:D=g,p(P),T.classList.add("selectedButton");break;case t.target===z:D=C,p(P),z.classList.add("selectedButton");break;case t.target===q:D=S,p(P),q.classList.add("selectedButton");break;case t.target===N:D=L,p(P),N.classList.add("selectedButton");break;case t.target===R:D=E,p(P),R.classList.add("selectedButton")}})),document.getElementById("orientationDiv").addEventListener("click",(function(t){var e=document.getElementById("horizontal"),r=document.getElementById("vertical");t.target===r?(I="vertical",r.classList.add("selectedButton"),e.classList.remove("selectedButton")):(I="horizontal",r.classList.remove("selectedButton"),e.classList.add("selectedButton"))})),document.addEventListener("DOMContentLoaded",(function(){horizontal.click(),T.click(),$.classList.add("forbiddenButton")})),document.getElementById("reset").addEventListener("click",(function(){U=[],p(P),function(t){t.querySelectorAll("button").forEach((function(t){t.classList.remove("forbiddenButton")}))}(M),H.forEach((function(t){t.classList.remove("selectedHighlight")})),a=[],T.click(),$.classList.add("forbiddenButton")}));var $=document.getElementById("confirm");$.addEventListener("click",(function(){var e=document.getElementById("overlay");5===U.length&&e.remove(),function(t){for(var e=0;e<t.length;e++){var r=t[e][0].map((function(t){return Number(t)})),n=t[e][1],o=t[e][2].name,i=Y[o];x.gameboard.placeShip(i[0],r,n,i[1])}}(U),a.forEach((function(e){var r=t(e,2),n=r[0],o=r[1];n=Number(n),o=Number(o),document.querySelector('#player-board .cell[data-x="'.concat(n,'"][data-y="').concat(o,'"]')).classList.add("occupiedCell")}))}));var G=!0,V=document.getElementById("computer-board");function W(t){if(!G&&!t){var e,r=Z();b[r].play(),e=Q.length?Q.shift():function(){var t=Math.floor(Math.random()*J.length),e=J.splice(t,1)[0].toString().split("").map(Number);return 1===e.length&&e.unshift(0),function(t){t=t.join("");for(var e=function(e){for(var r=function(r){X[e][r].forEach((function(n){var o,i,a=n.join("");if(t===a)return Q=(i=X[e][r],Q=function(t){if(Array.isArray(t))return m(t)}(i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return e.join("")!==t})),o=Q.map((function(t){return t.join("")})).map((function(t){return Number(t)})),void(J=J.filter((function(t){return!o.includes(t)})))}))},n=0;n<X[e].length;n++)r(n)},r=0;r<X.length;r++)e(r)}(e),e}(),setTimeout((function(){h(O,x,e,t),G=!0,V.classList.remove("forbiddenButton")}),2e3)}}function F(t){return[t.target.dataset.x,t.target.dataset.y]}V.addEventListener("click",(function(t){if(G){var e=F(t),r=Z();b[r].play(),V.classList.add("forbiddenButton"),setTimeout((function(){var t=h(x,O,e,t);setTimeout((function(){G=!1,W(t)}),2e3)}),2e3)}else W()}));for(var J=[],K=0;K<=99;K++)J.push(K);var Q=[],X=[[x.gameboard.playerACLocation],[x.gameboard.playerBLocation],[x.gameboard.playerDLocation],[x.gameboard.playerSUBLocation],[x.gameboard.playerCLocation]];function Z(){return Math.floor(5*Math.random())+1}})()})();